{"ast":null,"code":"import { POST_USER_MEDICATIONS, GET_USER_MEDICATIONS, GET_USER_INTERACTIONS } from \"../constants/actionTypes\";\nvar API = \"http://localhost:3000/api/v1\";\nvar headers = {\n  method: 'GET',\n  headers: {\n    Authorization: \"Bearer \".concat(localStorage.token)\n  }\n};\nexport function postUserMedication(_ref, id) {\n  var rxcui = _ref.rxcui,\n      name = _ref.name,\n      name_alt = _ref.name_alt;\n  return function (dispatch) {\n    return fetch(\"\".concat(API, \"/user_medications\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"token\"))\n        }\n      },\n      body: JSON.stringify({\n        id: id,\n        rxcui: rxcui,\n        name: name,\n        name_alt: name_alt\n      })\n    }).then(function (r) {\n      return r.json();\n    }).then(function (res) {\n      return dispatch({\n        type: GET_USER_MEDICATIONS,\n        payload: res\n      });\n    }); //  .then(() => dispatch({type: GET_USER_INTERACTIONS, pay }))\n  };\n}\nexport function getUserMedications() {\n  return function (dispatch) {\n    return fetch(\"\".concat(API, \"/current_medications\"), headers).then(function (r) {\n      return r.json();\n    }).then(function (res) {\n      // debugger\n      dispatch({\n        type: GET_USER_MEDICATIONS,\n        payload: res\n      });\n    });\n  };\n}\n;\nexport function updateUserMedications() {\n  return function (dispatch) {\n    return dispatch(getUserMedications());\n  };\n}","map":{"version":3,"sources":["/Users/adamsaland/Developer/flatiron/mod_five/final_project/react-interact/src/actions/userMedications.js"],"names":["POST_USER_MEDICATIONS","GET_USER_MEDICATIONS","GET_USER_INTERACTIONS","API","headers","method","Authorization","localStorage","token","postUserMedication","id","rxcui","name","name_alt","dispatch","fetch","Accept","getItem","body","JSON","stringify","then","r","json","res","type","payload","getUserMedications","updateUserMedications"],"mappings":"AAAA,SAASA,qBAAT,EAAgCC,oBAAhC,EAAqDC,qBAArD,QAAkF,0BAAlF;AACA,IAAMC,GAAG,iCAAT;AACA,IAAMC,OAAO,GAAG;AACZC,EAAAA,MAAM,EAAE,KADI;AAEZD,EAAAA,OAAO,EAAE;AACPE,IAAAA,aAAa,mBAAYC,YAAY,CAACC,KAAzB;AADN;AAFG,CAAhB;AAOA,OAAO,SAASC,kBAAT,OAAsDC,EAAtD,EAA0D;AAAA,MAA5BC,KAA4B,QAA5BA,KAA4B;AAAA,MAArBC,IAAqB,QAArBA,IAAqB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AAC/D,SAAO,UAAAC,QAAQ,EAAI;AACjB,WAAOC,KAAK,WAAIZ,GAAJ,wBAA4B;AACtCE,MAAAA,MAAM,EAAE,MAD8B;AAEtCD,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPY,QAAAA,MAAM,EAAE,kBAFD;AAGPZ,QAAAA,OAAO,EAAE;AACPE,UAAAA,aAAa,mBAAYC,YAAY,CAACU,OAAb,CAAqB,OAArB,CAAZ;AADN;AAHF,OAF6B;AAStCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBV,QAAAA,EAAE,EAAFA,EADmB;AAEnBC,QAAAA,KAAK,EAALA,KAFmB;AAGnBC,QAAAA,IAAI,EAAJA,IAHmB;AAInBC,QAAAA,QAAQ,EAARA;AAJmB,OAAf;AATgC,KAA5B,CAAL,CAgBJQ,IAhBI,CAgBC,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,KAhBF,EAiBJF,IAjBI,CAiBC,UAAAG,GAAG;AAAA,aAAIV,QAAQ,CAAC;AAAEW,QAAAA,IAAI,EAAExB,oBAAR;AAA8ByB,QAAAA,OAAO,EAAEF;AAAvC,OAAD,CAAZ;AAAA,KAjBJ,CAAP,CADiB,CAmBjB;AACD,GApBD;AAqBD;AAED,OAAO,SAASG,kBAAT,GAA+B;AACpC,SAAO,UAAAb,QAAQ,EAAI;AACjB,WAAOC,KAAK,WAAIZ,GAAJ,2BAA+BC,OAA/B,CAAL,CACNiB,IADM,CACD,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,KADA,EAENF,IAFM,CAED,UAAAG,GAAG,EAAI;AACX;AACAV,MAAAA,QAAQ,CAAC;AAAEW,QAAAA,IAAI,EAAExB,oBAAR;AAA8ByB,QAAAA,OAAO,EAAEF;AAAvC,OAAD,CAAR;AACD,KALM,CAAP;AAMD,GAPD;AAQD;AAAA;AACD,OAAO,SAASI,qBAAT,GAAiC;AACvC,SAAO,UAAAd,QAAQ;AAAA,WAAIA,QAAQ,CAACa,kBAAkB,EAAnB,CAAZ;AAAA,GAAf;AACA","sourcesContent":["import { POST_USER_MEDICATIONS, GET_USER_MEDICATIONS,GET_USER_INTERACTIONS } from \"../constants/actionTypes\";\nconst API = `http://localhost:3000/api/v1`;\nconst headers = {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${localStorage.token}`\n    }\n}\n\nexport function postUserMedication({ rxcui, name, name_alt}, id) {\n  return dispatch => {\n    return fetch(`${API}/user_medications`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      },\n      body: JSON.stringify({\n        id,\n        rxcui,\n        name,\n        name_alt\n      })\n    })\n      .then(r => r.json())\n      .then(res => dispatch({ type: GET_USER_MEDICATIONS, payload: res}))\n    //  .then(() => dispatch({type: GET_USER_INTERACTIONS, pay }))\n  };\n}\n\nexport function getUserMedications () {\n  return dispatch => {\n    return fetch(`${API}/current_medications`, headers)\n    .then(r => r.json())\n    .then(res => {\n      // debugger\n      dispatch({ type: GET_USER_MEDICATIONS, payload: res})\n    })\n  }\n};\nexport function updateUserMedications() {\n return dispatch => dispatch(getUserMedications())\n}\n"]},"metadata":{},"sourceType":"module"}